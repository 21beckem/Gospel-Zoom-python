<!DOCTYPE html><html><head><title>Gospel Zoom Remote</title><meta name=viewport content="width = device-width, initial-scale = 1.0, minimum-scale = 1, maximum-scale = 1, user-scalable = no"><meta name=apple-mobile-web-app-title content="Gospel Zoom"><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=default><link rel=apple-touch-icon href=../churchZoomIcon.png><link rel=apple-touch-icon sizes=76x76 href=../churchZoomIcon.png><link rel=apple-touch-icon sizes=120x120 href=../churchZoomIcon.png><link rel=apple-touch-icon sizes=152x152 href=../churchZoomIcon.png><style>body, html { background-color: rgb(241, 241, 241); font-family: "Lato", sans-serif; transition: background-color .5s; width: 100%; height: 100%; padding: 0; margin: 0;; overflow-x: hidden; overflow-y: hidden; } .sidenav { height: 100%; width: 60%; position: fixed; z-index: 1; top: 0; left: 0; background-color: white; overflow-x: hidden; transition: transform 0.4s; -webkit-transition: transform 0.4s; transform: translateX(calc(-100% - 4px)); padding-top: 180px; margin-right: -5px; box-shadow: 4px 0px 4px 0px #5e5e5e; } .sidenav a { padding: 8px 8px 8px 32px; text-decoration: none; font-size: 22px; color: #676767; display: block; white-space: nowrap; transition: 0.3s; } .sidenav a:hover { color: #000; } .sidenav .closebtn { position: absolute; top: 0; right: 25px; font-size: 36px; margin-left: 50px; } #previewScreenBox { width: 100%; height: 60%; margin-bottom: 10px; background-image: url(../churchZoomIcon.png); background-size: contain; background-repeat: no-repeat; background-position: center; } #controlButtonsBox { width: 100%; height: 25%; display: flex; flex-flow: row wrap; } .btnBox { flex-basis: 50%; position: relative; } .ctrlBtn { font-size: 15px; color: white; border: none; border-radius: 10px; padding: 8px; margin: 0; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); } .ctrlBtn:active { background-image: linear-gradient(rgba(0, 0, 0, 0.2) 0 0); } #previewScreenToggle { position: absolute; top: 10px; right: 10px; } #previewScreenToggleBox { position: absolute; top: 10px; right: 7px; } #previewScreenToggleBox a { position: relative; top: 12px; right: 30px; } #mainContent { transition: transform .4s, margin-left .4s; -webkit-transition: transform .4s, margin-left .4s; width: 100%; height: 100%; } img.screen { position: absolute; left: 0px; width: 100%; } .raysImg { position: absolute; top: 0; background-color: #003057; width: 100%; height: 150px; } .sidenav .raysImg .appTitle { position: absolute; bottom: 5px; color: white; font-size: 28px; } @media screen and (max-height: 450px) { .sidenav {padding-top: 100px;} .sidenav a {font-size: 20px;} .raysImg {height: 90px;} } .page { padding: 0; margin: 0; width: 100%; height: 100%; } #addrInput { font-size: 28px; } input { outline: none; font-size: 28px; border-style: none none solid none; border-radius: 0; transition: border-color .4s; border-color: rgba(0, 0, 0, 0.25); border-width: 3px; background-color: rgba(0, 0, 0, 0); } input:focus { border-color: rgb(255, 0, 0); } .alert-success { color: #3c763d; background-color: #dff0d8; border-color: #d6e9c6; } .alert-error { color: #a94442; background-color: #f2dede; border-color: #ebccd1; } .alert { position: absolute; margin-top: 10px; margin-left: 15px; margin-right: 15px; padding: 15px; margin-bottom: 10px; border: 1px solid transparent; border-radius: 4px; z-index: 10; opacity: 0; transition: opacity .5s; } #handshakeInput { width: 80px; text-align: center; } #ipInput { width: 55%; text-align: right; } #portInput { width: 20%; } .saveBtn { background-color: #004379; color: white; border: none; border-radius: 10px; padding: 10px; font-size: 20px; width: 30%; min-width: auto; } .saveBtn:active { background-color: #002c50; } #scanQRcodeBtn { font-size: 15px; border-radius: 15px; border-width: 5px; border-color: black; background-color: rgb(231, 231, 231); color: black; width: 100px; height: 100px; } #scanQRcodeBtn:active { background-color: rgb(159, 159, 159); } .loader { margin: 0; position: absolute; top: calc(50% - 75px); left: calc(50% - 75px); border: 16px solid #f3f3f3; border-radius: 50%; border-top: 16px solid #3498db; width: 120px; height: 120px; -webkit-animation: spin 2s linear infinite; animation: spin 2s linear infinite; } @-webkit-keyframes spin { 0% { -webkit-transform: rotate(0deg); } 100% { -webkit-transform: rotate(360deg); } } @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }</style></head><body><div id=sideNav class=sidenav><div class=raysImg><a class=appTitle>Gospel Zoom</a></div><a href=javascript:void(0) class=closebtn onclick=closeNav()>&times;</a><a href=javascript:void(0) onclick="openPage('home')">Home</a><a href=javascript:void(0) onclick="openPage('handshake')">Handshake</a></div><div id=mainContent><span style=font-size:30px;cursor:pointer onclick=openNav()>&#9776; options</span><div id=successBox class="alert alert-success"><strong>Success!</strong> Information successfully saved. </div><div id=errorBox class="alert alert-error"><strong>Oh no!</strong> There's been an error. It could be the handshake or the connection. </div><div id=page-home class=page><div id=previewScreenToggleBox><a>Preview Feed:</a><input onclick=handlePreviewToggle(this) type=checkbox id=previewScreenToggleBox></div><br><div id=previewScreenBox></div><div id=controlButtonsBox><div class=btnBox></div><div class=btnBox><button class=ctrlBtn style="background-color: #0dbe45;" onclick="sendBtnPress('/startmeeting')">Start Meeting</button></div><div class=btnBox><button class=ctrlBtn style="background-color: #9e9e9e;" onclick="sendBtnPress('/togglefeed')">Toggle Audio/Video</button></div><div class=btnBox><button class=ctrlBtn style="background-color: #dd3534;" onclick="sendBtnPress('/endmeeting')">End Meeting</button></div></div></div><div style="display: none;" id=page-handshake class=page><br><br><br><center><h4>Handshake:</h4><br><br><input id=handshakeInput value type=number autocomplete=off oninput=verifyHandshakeLength()><br><br><br><button class=saveBtn onclick=saveHandshake()>Save</button></center></div></div><script>Storage.prototype.setObject=function(key,value){this.setItem(key,JSON.stringify(value));}
Storage.prototype.getObject=function(key){var value=this.getItem(key);return value&&JSON.parse(value);}
let Handshake;function getHandshake(){let shake=localStorage.getObject('Handshake')||[];if(shake.length==1){Handshake=shake[0];return shake;}}
async function connectToHost(){}
let NavOpen=false;function _(x){return document.getElementById(x);}
const sideNav=_("sideNav");const mainContent=_("mainContent");const handshakeInput=_('handshakeInput');const page_home=_('page-home');const page_handshake=_('page-handshake');const previewScreenBox=_('previewScreenBox');getHandshake();function openNav(){sideNav.style.transform="translateX(0)";mainContent.style.transform="translateX(60%)";mainContent.style.marginLeft="10px";document.body.style.backgroundColor="rgba(0,0,0,0.5)";NavOpen=true;}
function closeNav(){sideNav.style.transform="translateX(calc(-100% - 4px))";mainContent.style.transform="translateX(0)";mainContent.style.marginLeft="0";document.body.style.backgroundColor="white";NavOpen=false;}
function swipeCloseNavbar(el,d){document.activeElement.blur();if(NavOpen&&d=='l'){closeNav();}else if(!NavOpen&&d=='r'){openNav();}}
function openPage(pageName){switch(pageName){case'home':page_home.style.display='block';page_handshake.style.display='none';break;case'handshake':page_home.style.display='none';page_handshake.style.display='block';setTimeout(handshakeInput.focus(),400);getHandshake();break;default:break;}
closeNav();}
function refreshPreviewImg(){previewScreenBox.style.backgroundImage='url(/feed?x='+Handshake+'&t='+new Date().getTime()+')';}
function handlePreviewToggle(toggleEl){if(toggleEl.checked){refreshPreviewImg();}else{previewScreenBox.style.backgroundImage='url(../churchZoomIcon.png)';}}
async function sendBtnPress(path){fetch(path+'?x='+Handshake).then((response)=>{if(response.ok){return response.json();}else{throw new Error('Something went wrong');}}).then((responseJson)=>{}).catch((error)=>{console.log(error)});}
function showAlert(alertBoxId,timeMillis=2000){_(alertBoxId).style.opacity='1';setTimeout(function(){_(alertBoxId).style.opacity='0'},timeMillis);}
function verifyHandshakeLength(){if(handshakeInput.value.length>4)handshakeInput.value=handshakeInput.value.slice(0,4);}
function saveHandshake(){var toBeSaved=[handshakeInput.value];localStorage.setObject('Handshake',toBeSaved);openPage('home');showAlert('successBox');getHandshake();}
function detectswipe(el,func){swipe_det=new Object();swipe_det.sX=0;swipe_det.sY=0;swipe_det.eX=0;swipe_det.eY=0;var min_x=30;var max_x=30;var min_y=50;var max_y=60;var direc="";ele=_(el);ele.addEventListener('touchstart',function(e){var t=e.touches[0];swipe_det.sX=t.screenX;swipe_det.sY=t.screenY;},false);ele.addEventListener('touchmove',function(e){e.preventDefault();var t=e.touches[0];swipe_det.eX=t.screenX;swipe_det.eY=t.screenY;},false);ele.addEventListener('touchend',function(e){if((((swipe_det.eX-min_x>swipe_det.sX)||(swipe_det.eX+min_x<swipe_det.sX))&&((swipe_det.eY<swipe_det.sY+max_y)&&(swipe_det.sY>swipe_det.eY-max_y)&&(swipe_det.eX>0)))){if(swipe_det.eX>swipe_det.sX)direc="r";else direc="l";}
else if((((swipe_det.eY-min_y>swipe_det.sY)||(swipe_det.eY+min_y<swipe_det.sY))&&((swipe_det.eX<swipe_det.sX+max_x)&&(swipe_det.sX>swipe_det.eX-max_x)&&(swipe_det.eY>0)))){if(swipe_det.eY>swipe_det.sY)direc="d";else direc="u";}
if(direc!=""){if(typeof func=='function')func(el,direc);}
direc="";swipe_det.sX=0;swipe_det.sY=0;swipe_det.eX=0;swipe_det.eY=0;},false);}
detectswipe('mainContent',swipeCloseNavbar);detectswipe('sideNav',swipeCloseNavbar);</script></body></html>