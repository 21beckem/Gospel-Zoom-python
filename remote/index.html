<!DOCTYPE html>
<html>
<head>
<title>Gospel Zoom Remote</title>
<meta name="viewport" content = "width = device-width, initial-scale = 1.0, minimum-scale = 1, maximum-scale = 1, user-scalable = no" />
<!-- Setting vars for ios WebApp -->
<meta name="apple-mobile-web-app-title" content="Gospel Zoom" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="default" />
<link rel="apple-touch-icon" href="../churchZoomIcon.png">
<link rel="apple-touch-icon" sizes="76x76" href="../churchZoomIcon.png">
<link rel="apple-touch-icon" sizes="120x120" href="../churchZoomIcon.png">
<link rel="apple-touch-icon" sizes="152x152" href="../churchZoomIcon.png">
<link rel="stylesheet" href="style.css">

<script src="https://unpkg.com/html5-qrcode"></script>
</head>
<body>

<div id="sideNav" class="sidenav">
    <div class="raysImg">
        <a class="appTitle">Gospel Zoom</a>
    </div>
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <a href="javascript:void(0)" onclick="openPage('home')">Home</a>
    <a href="javascript:void(0)" onclick="openPage('handshake')">Handshake</a>
    <a href="javascript:void(0)" onclick="openPage('connect')">Connect to Host</a>
    
</div>

<div id="mainContent">
    <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776; options</span>
    <div id="successBox" class="alert alert-success">
        <strong>Success!</strong> Information successfully saved.
    </div>
    <div id="page-home" class="page">
        <div id="previewScreenToggleBox"><a>Preview Feed:</a><input type="checkbox" id="previewScreenToggleBox"></div>
        <br>
        <div id="previewScreenBox">
            <img class="screen" src="../churchZoomIcon.png" alt="computer_screen">
        </div>
        <div id="controlButtonsBox">
            <div class="btnBox">
                <button class="ctrlBtn" style="background-color: #0E71EB;">Open Meeting</button>
            </div>
            <div class="btnBox">
                <button class="ctrlBtn" style="background-color: #0dbe45;">Start Meeting</button>
            </div>
            <div class="btnBox">
                <button class="ctrlBtn" style="background-color: #9e9e9e;">Toggle Audio/Video</button>
            </div>
            <div class="btnBox">
                <button class="ctrlBtn" style="background-color: #dd3534;">End Meeting</button>
            </div>
        </div>
    </div>
    <div style="display: none;" id="page-handshake" class="page">
        <br><br><br>
        <center>
            <h4>Handshake:</h4>
            <br><br>
            <input id="handshakeInput" value="" type="number" autocomplete="off" oninput="verifyHandshakeLength()">
            <br>
            <br><br>
            <button class="saveBtn" onclick="saveHandshake()">Save</button>
        </center>
    </div>
    <div style="display: none;" id="page-connect" class="page">
        <br><br><br>
        <center>
            <h4>Server Address:</h4>
            <br><br>
            <div id="addrInput">
                <input id="ipInput" value="192.168.0.0" type="text" autocomplete="off">:<input id="portInput" value="1830" type="number" autocomplete="off">
            </div>
            <br>
            <br><br>
            <button class="saveBtn" onclick="saveAddress()">Save</button>
            <br>
            <h2>OR</h2>
            <button id="scanQRcodeBtn" onclick="getCameraAccess()">Scan QR Code</button>
        </center>
    </div>
    <div style="display: none;" id="page-qr" class="page">
        <center>
            <div id="qrLoader" class="loader"></div>
            <button style="padding:15px;margin-top:100px;margin-bottom: 5px;" onclick="cancelScanning()">Cancel</button>
            <div id="qr-preview" style="width:100%"></div>
        </center>
    </div>
</div>

<script src="script.js"></script>

<script>
document.addEventListener("DOMContentLoaded", function(){
    // iOS web app full screen hacks.
    if(window.navigator.standalone == true) {
        // make all link remain in web app mode.
        document.getElementsByTagName('a').forEach(el => {
            window.location = $(this).attr('href');
            return false;
        });
    }
});
</script>
</body>
</html> 
